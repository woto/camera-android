# План подготовки к публикации в Google Play

Этот документ содержит детальный план действий для успешной публикации приложения "Volley Cam" и прохождения проверки Google Play (Review Process).

## 1. Техническая подготовка (Codebase & Build)

### 1.1. Настройка сборки (Build Configuration)
В файле `app/build.gradle.kts` обнаружено, что минификация отключена для релиза.
- **Действие**: Рекомендуется включить R8 (ProGuard) для уменьшения размера APK и обфускации кода. Это также поможет удалить отладочные логи.
- **Рекомендация**: Установить `isMinifyEnabled = true` и `isShrinkResources = true`.

### 1.2. Очистка логов
В `AppLogger.kt` используется `Log.d`. Если включить R8 (см. выше), то стандартные правила `proguard-android-optimize.txt` могут удалять эти вызовы, но лучше добавить явное правило или использовать обертку, которая отключает логирование в релизе (`if (BuildConfig.DEBUG)`).
- **План**: Добавить проверку `BuildConfig.DEBUG` в `AppLogger`.

### 1.3. Permissions & Foreground Service
- **Status**: ✅ `Foreground Service` настроен корректно (`camera|microphone`).
- **Status**: ✅ `Target SDK 34` (Android 14) соответствует требованиям.
- **Внимание**: Google Play потребует видео-демонстрацию.
    - **Обоснование от пользователя (Formal)**: "Приложение функционирует как специализированный видеорегистратор для волейбольных матчей, которые могут длиться до трех часов. Для обеспечения непрерывной работы без критического разряда батареи устройство должно вести запись в фоновом режиме с выключенным экраном. Приложение поддерживает кольцевой видеобуфер и сохраняет/отправляет на сервер только избранные моменты по триггеру. Пользователь получает обратную связь (мигание фонариком, звук) в момент захвата, не взаимодействуя с экраном."
    - **Действие**: Записать видео с демонстрацией этого сценария (экран гаснет -> игра идет -> триггер -> фонарик).

## 2. Google Play Console (Административные требования)

### 2.1. Политика конфиденциальности (Privacy Policy)
Будет создан отдельный файл `privacy_policy.md`, адаптированный под сценарий:
- Запись волейбольных игр.
- Доступ по 6-значному коду комнаты (генерируется пользователями произвольно для каждой сессии).
- Публичный доступ к опубликованным клипам.

### 2.2. Data Safety Section
Будет создан отдельный файл `data_safety_guide.md` с инструкцией по заполнению формы:
- **Типы данных**: Video, Audio, Device IDs (если есть логи).
- **Цель**: App functionality.
- **Передача данных**: На сервер `volleycam.com`.

### 2.3. Специальный доступ (Special App Access)
Google Play потребует доступ.
- **Инструкция**: Предоставить валидный (захардкоженный или постоянный на сервере) `room_id` для тестировщиков Google, чтобы они могли проверить запись.

## Proposed Changes (Предлагаемые изменения в коде)

### app/build.gradle.kts
Включить оптимизацию для Release сборки.

### AppLogger.kt
Отключить логирование в Release сборке для безопасности.

## Verification Plan
- **Verification Status**: ⚠️ Skipped automated build verification due to missing gradle wrapper. Manual verification required by user.

